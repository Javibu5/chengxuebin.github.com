---
layout: post
title: "集成微信和支付宝支付"
category: "javascript"
tags: ["javascript", "payment"]
---

## 微信 H5 支付

微信开发文档看 [这里](https://pay.weixin.qq.com/wiki/doc/api/H5.php?chapter=15_4)

![](https://pay.weixin.qq.com/wiki/doc/api/img/chapter15_1.png)

### 常见问题

1. 关于回调 URL

> 由于设置redirect_url后, 回跳指定页面的操作可能发生在：
> 1,微信支付中间页调起微信收银台后超过5秒 
> 2,用户点击“取消支付“或支付完成后点“完成”按钮。
> 因此无法保证页面回跳时，支付流程已结束，所以商户设置的redirect_url地址不能自动执行查单操作，应让用户去点击按钮触发查单操作。回跳页面展示效果可参考下图

![](https://pay.weixin.qq.com/wiki/doc/api/img/chapter15_4_5.jpg)

## 支付宝 H5 支付

支付宝文档看 [这里](https://docs.open.alipay.com/203)

## Native-H5 混合 APP 调用支付宝

支付宝文档看 [这里](https://docs.open.alipay.com/203/106493/)

使用这种方式注意点

* App 需要集成支付宝 SDK
* 



